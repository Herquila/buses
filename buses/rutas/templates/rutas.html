{% extends 'base.html'%}

{% block page_title %} Rutas | TSG {% endblock %}

{% block content %}

<h1>Lista de rutas de la empresa</h1>

<h2>Hora Actual</h2>
<h2 id="DigitalCLOCK" onload="showTime()"></h2>

<h3>Próximo bus de {{ routes.0.short_name }}</h3>
<!-- Tabla de Próximo Bus -->
<table align="center">
    <tr>
        <th>Próximo bus saliendo de {{ routes.0.short_name }}</th>
        <th> | </th>
        <th>Próximo bus saliendo de San José</th>
    </tr>
    <tr>
        <td>{{ next_bus_list_SG.0 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_SG.0 }}</td>
    </tr>
    <tr>
        <td>{{ next_bus_list_SG.1 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_SG.1 }}</td>
    </tr>
    <tr>
        <td>{{ next_bus_list_SG.2 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_SG.2 }}</td>
    </tr>
</table>

<h3>Próximo bus de {{ routes.1.short_name }}</h3>
<!-- Tabla de Próximo Bus -->
<table align="center">
    <tr>
        <th>Próximo bus saliendo de {{ routes.1.short_name }}</th>
        <th> | </th>
        <th>Próximo bus saliendo de San José</th>
    </tr>
    <tr>
        <td>{{ next_bus_list_Aco.0 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_Aco.0 }}</td>
    </tr>
    <tr>
        <td>{{ next_bus_list_Aco.1 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_Aco.1 }}</td>
    </tr>
    <tr>
        <td>{{ next_bus_list_Aco.2 }}</td>
        <td> | </td>
        <td>{{ next_bus_list_SJ_Aco.2 }}</td>
    </tr>
</table>

<p><a href="/rutas/sangabriel">San Gabriel</a></p>

<p><a href="/rutas/acosta">Acosta</a></p>

<!-- NOTA: ESTE CODIGO JavaScript DEBE COLOCARSE EN ALGUN ARCHIVO .js 
    EN LA CARPETA DE LOS ARCHIVOS ESTÁTICOS -->
<script>
    function showTime(){
        let date = new Date();
        let h = date.getHours(); 
        let m = date.getMinutes(); 
        let s = date.getSeconds(); 
        let session = "AM";
        
        if(h == 0){
            h = 12;
        }        
        else if(h > 12){
            h = h - 12;
            session = "PM";
        }
        
        h = (h < 10) ? "0" + h : h;
        m = (m < 10) ? "0" + m : m;
        s = (s < 10) ? "0" + s : s;
        
        let time = h + ":" + m + ":" + s + " " + session;
        document.getElementById("DigitalCLOCK").innerText = time;
        setTimeout(showTime, 1000);
    }
    
    showTime();
</script>

{% endblock %}